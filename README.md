# 💪저속노화, jeosok-nohwa💪


## 👨‍💻 팀원 소개
| 권지윤 | 윤선영 | 윤태경 | 황혜영 |
| --- | --- | --- | --- |
| <img src="https://avatars.githubusercontent.com/june0216" width="150" height="150"> | <img src="https://avatars.githubusercontent.com/yunsy1103" width="150" height="150"> | <img src="https://avatars.githubusercontent.com/taegung" width="150" height="150"> | <img src="https://avatars.githubusercontent.com/HyeYoung-Hwang" width="150" height="150"> |
| 채팅 | 캘린더 | 타임라인 | 홈 화면 |


<br><br>

## 💡 프로젝트 소개
더 나은 내일을 위한 대화, 오늘 시작하세요!
<br>
매일 매일 채팅형식의 간편한 기록으로 쉽게 **“저속노화”** 하세요!
<br>
**AI와 함께 식사와 운동을 기록**하고, 저속노화 점수와 **맞춤 피드백**을 받아볼 수 있어요!
<br>
**저속노화란?** 저속 노화는 실제 나이보다 빨리 늙는 '가속 노화'의 반대 개념으로, 식단과 생활 습관만으로 노화의 속도를 늦추는 건강법

<br><br>

## 📌 상세 페이지
### 공통,메인 페이지
<div><img src="https://private-user-images.githubusercontent.com/76603301/410735306-ed479451-7512-4611-9953-22f093cba2d9.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzg4OTY1MTUsIm5iZiI6MTczODg5NjIxNSwicGF0aCI6Ii83NjYwMzMwMS80MTA3MzUzMDYtZWQ0Nzk0NTEtNzUxMi00NjExLTk5NTMtMjJmMDkzY2JhMmQ5LmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjA3VDAyNDMzNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcwNzY2MjNmMWExYzMxMzM3Y2MxNjk5OTI5ZGM3NjRjOTJmOGY0M2ExYmE2MjAwNmU2MjAwZDg1MTNiZjIxNjUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.hoU7XI54sG1v-feL-9xCt88RrLfPuzHIlgMWf9vJ5zY" width="350" height="600">
</div>

- 로고(홈 페이지로 이동), 채팅으로 이동 할 수 있는 공통 헤더
- 홈, 랭킹, 타임라인, 프로필로 이동 할 수 있는 공통 네브바
- 시작 화면인 메인 페이지
- Tailwind CSS와 함께 활용 가능한 **`Heroicons`** 라이브러리 사용
- **[추가 구현 예정]** 메인페이지에서 시작하기 버튼을 누르면 로그인 페이지로 이동, 저속노화 알아보기 버튼을 누르면 관련된 뉴스 등을 보여주는 페이지로 이동
<br>

### 캘린더
<div>
    <img src="https://private-user-images.githubusercontent.com/76603301/410734923-24ba1ffe-5e24-43fb-b54d-cb8c8468be61.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzg4OTY2MjMsIm5iZiI6MTczODg5NjMyMywicGF0aCI6Ii83NjYwMzMwMS80MTA3MzQ5MjMtMjRiYTFmZmUtNWUyNC00M2ZiLWI1NGQtY2I4Yzg0NjhiZTYxLmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjA3VDAyNDUyM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc2ODk1YzVkZmI4ZWM5Y2I4Y2UxMWQ5ZjUwZDkzMjA5M2NiY2U3MTVjNjlhOWNjMTMxMmNhZWQ4OWU3ZDkyZmImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.prEwUZfXl8JFkDAACOapQrJMHMc2riOkADBFBnhqPt0" width="350" height="600">
</div>


- 달력을 통해 날짜별 타임라인 요약을 확인할 수 있는 기능
- **`react-calendar`** 라이브러리를 사용하여 커스텀하여 적용
- 채팅이 있는 날 달력의 마킹으로 채팅 유무를 시각적으로 확인 가능
- **[추가 구현 예정]** 날짜 선택시 타임라인이 있는날은 타임라인이 나오게, 없는 날은 채팅 시작 창으로 이동하게 구현
<br>

### 타임라인 
<div>
    <img src="https://private-user-images.githubusercontent.com/76603301/410735182-1c61d9a4-8124-4168-b404-591346795cd7.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzg4OTY1NDYsIm5iZiI6MTczODg5NjI0NiwicGF0aCI6Ii83NjYwMzMwMS80MTA3MzUxODItMWM2MWQ5YTQtODEyNC00MTY4LWI0MDQtNTkxMzQ2Nzk1Y2Q3LmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjA3VDAyNDQwNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWUwMTRlYWZiMTNiY2JmMWE1OTZhOTNhY2U0ODlhNWJkNThlNDkzMjVkZWNkNGZiMDA1MDNmNTRjNTYwZWM0ZTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.zEKh0vU8xuUjfn5dyPBD6BWmucZ9Co6Y9civA6IIjgI" width="350" height="600">
</div>

- 날짜를 클릭하면 해당 날짜의 타임라인 컴포넌트 보여주는 기능
- 타임라인 컴포넌트를 클릭하면 해당 타임라인의 요약내용을 모달창으로 통해 보여주는 기능
- **[추가 구현 예정]** 타임라인의 요약 내용 + 채팅 내용까지 보여주게 구현
<br>

### 채팅
<div>
    <img src="https://private-user-images.githubusercontent.com/76603301/410735501-f51a5c02-8952-43b4-955b-717d116a7682.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzg4OTY0ODYsIm5iZiI6MTczODg5NjE4NiwicGF0aCI6Ii83NjYwMzMwMS80MTA3MzU1MDEtZjUxYTVjMDItODk1Mi00M2I0LTk1NWItNzE3ZDExNmE3NjgyLmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjA3VDAyNDMwNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWIzMTlkNGQ1YjFkYjAwOWZiZWJhYWU5NTc5YTQ3Zjk1ZGQ2NjkyZTcyNzBjOWY1Y2RhZjJkOTZiNGM1NjYzYmUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.eJ4KRz26i9VxwibkHepyy3uugEpf_k24tTf2ryK6Y-Y" width="350" height="600">
</div>

- ChatGPT API를 활용한 실시간 대화
    - ChatGPT 응답을 청크 단위로 바로 렌더링
    - **`"react-markdown"`** 라이브러리를 활용하여 ChatGPT 응답을 마크다운 형식으로 렌더링하게 하여 가독성 향상
    - ChatGPT API를 활용한 실시간 대화 API 및 프롬프트 작성
- 대화 내역 요약 기능
    - 특정 대화량 이상이면 요약 버튼 활성화
    - **`supabase.realtime.on()`을 결합**하여 **프론트엔드에서 실시간 UI 업데이트**
- **[추가 구현 예정]** ChatGPT 대화 내역 history를 적절하게 잘라서 보내기

<br><br>

## 📌 기능 요구사항
### 1. 회원 관리
사용자는 소셜 로그인을 통해 회원가입 및 로그인할 수 있습니다.
사용자는 활성화 상태, 휴먼 계정 상태, 탈퇴 상태로 관리됩니다.
사용자 역할은 **관리자(Admin)**와 **일반 사용자(User)**로 구분됩니다.
### 2. 저속노화 기록 및 분석
사용자는 매일 ChatGPT와 대화를 나누며 저속노화 정보를 기록합니다.
대화 내역을 기반으로 채팅 요약 내용을 자동 생성합니다.
요약된 데이터를 바탕으로 하루 저속노화 점수를 계산합니다.
사용자는 하루 동안의 저속노화 점수를 확인할 수 있습니다.
### 3. 저속노화 관련 정보 제공
관리자는 저속노화 관련된 뉴스, 유튜브 링크, 블로그 글 등을 등록할 수 있습니다.
사용자는 관리자가 제공한 저속노화 관련 콘텐츠를 조회할 수 있습니다.



<br><br>


## 📌 클래스 설계 설명 

✅ **User** → 회원가입, 프로필, 계정 관리  
✅ **Chat** → 사용자의 하루 채팅 메시지 관리  
✅ **ChatRoom** → 사용자의 날짜별 채팅방 생성 및 관리  
✅ **ChatSummary** → 대화 요약 및 분석 결과 저장  
✅ **DailyScore** → 하루 저속노화 점수 저장 및 조회  
✅ **NewsCrawling** → 건강 관련 뉴스 등록 및 조회  

---

## **1️⃣ User (사용자 관리)**

### **🔍 이유**
- 사용자는 소셜 로그인으로 가입하고 **프로필을 관리**해야 함.
- 사용자는 **저속노화 기록(채팅, 점수 등)에 접근**해야 함.
- **관리자 권한**을 부여받을 수 있음.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `id` | `Long` | 사용자의 고유 식별자 |
| `nickname` | `String` | 사용자의 닉네임 |
| `email` | `String` | 이메일 (로그인 식별자) |
| `height` | `double` | 키 (cm) |
| `weight` | `double` | 몸무게 (kg) |
| `bmi` | `double` | BMI 지수 (자동 계산) |
| `profilePicture` | `String` | 프로필 이미지 URL |
| `status` | `String` | 계정 상태 (`ACTIVE`, `INACTIVE`, `DELETED`) |
| `isAdmin` | `boolean` | 관리자 여부 |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `register()` | 새로운 사용자 등록 |
| `updateProfile()` | 사용자의 프로필 정보 수정 |
| `deleteAccount()` | 계정을 탈퇴 상태로 변경 |
| `getUserInfo()` | 사용자 정보 조회 |
| `calculateBMI()` | `weight / (height * height)` 공식을 사용하여 BMI 계산 |

---

## **2️⃣ Chat (사용자와 ChatGPT 간 채팅 메시지)**

### **🔍 이유**
- 사용자가 ChatGPT와 **대화하며 저속노화 기록**을 남겨야 함.
- 대화 내역을 **요약하여 점수 계산**해야 함.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `id` | `Long` | 채팅 메시지의 고유 ID |
| `content` | `String` | 채팅 메시지 내용 |
| `createdAt` | `DateTime` | 메시지 생성 시간 |
| `recordDate` | `Date` | 기록이 속한 날짜 (하루 기록을 그룹핑) |
| `type` | `String` | 채팅 유형 (`USER`, `GPT`) |
| `chatRoomId` | `Long` | 채팅방 ID |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `addMessage()` | 새로운 채팅 메시지 저장 |
| `getChatHistory()` | 특정 날짜의 채팅 기록 조회 |

---

## **3️⃣ ChatRoom (사용자의 하루 채팅 내역을 그룹핑)**

### **🔍 이유**
- 사용자가 하루 단위로 채팅을 기록하므로, **날짜별 채팅방 개념이 필요**함.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `userId` | `Long` | 채팅방을 소유한 사용자 ID |
| `createdAt` | `DateTime` | 채팅방 생성 날짜 |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `createChatRoom()` | 새로운 채팅방 생성 (하루 1개) |
| `getChatRoomDetails()` | 특정 사용자의 채팅방 정보 조회 |

---

## **4️⃣ ChatSummary (채팅 요약 및 분석)**

### **🔍 이유**
- ChatGPT 대화를 **요약하여 저속노화 점수 계산**에 활용.
- 상세 요약과 짧은 요약을 제공.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `id` | `Long` | 요약의 고유 ID |
| `longSummary` | `String` | 긴 형태의 대화 요약 |
| `shortSummary` | `String` | 짧은 형태의 대화 요약 |
| `createdAt` | `DateTime` | 요약 생성 시간 |
| `recordDate` | `Date` | 기록이 속한 날짜 |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `addSummary()` | 특정 날짜의 채팅 요약 추가 |
| `getSummary()` | 특정 날짜의 요약 조회 |
| `deleteSummary()` | 요약 삭제 |

---

## **5️⃣ DailyScore (하루 저속노화 점수 기록)**

### **🔍 이유**
- 사용자는 **하루 저속노화 점수를 확인**해야 함.
- 점수는 **식단과 운동을 반영**하여 계산.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `recordDate` | `Date` | 해당 점수의 날짜 |
| `userId` | `Long` | 점수 소유 사용자 ID |
| `dietScore` | `double` | 식단 점수 |
| `exerciseScore` | `double` | 운동 점수 |
| `relatedChatSummaryId` | `Long` | 연결된 채팅 요약 ID |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `addScore()` | 특정 날짜의 점수를 저장 |
| `getScore()` | 특정 날짜의 점수를 조회 |

---

## **6️⃣ NewsCrawling (저속노화 관련 뉴스 및 정보 저장)**

### **🔍 이유**
- 관리자는 **건강 관련 뉴스를 공유**해야 함.
- 사용자는 **건강 정보를 조회**할 수 있어야 함.

### **🔹 Fields**
| 필드 | 타입 | 설명 |
|---|---|---|
| `id` | `Long` | 뉴스 항목의 고유 ID |
| `content` | `String` | 뉴스 내용 (링크 포함) |
| `category` | `String` | 뉴스 카테고리 (운동, 영양, 연구 등) |

### **🔹 Methods**
| 메서드 | 설명 |
|---|---|
| `addNews()` | 새로운 뉴스 항목 추가 |
| `getNews()` | 특정 카테고리 또는 전체 뉴스 조회 |
| `updateNews()` | 기존 뉴스 업데이트 |
| `deleteNews()` | 뉴스 삭제 |

---

<br></br>



## 🚧 협업 규칙
### 1. 협업 전략
- 각자 개인 레포지토리를 `fork`하여 작업 후, 모든 코드는 `dev` 브랜치에 통합하고, 최종 배포 시 `main` 브랜치에 반영합니다.
- **작업 프로세스**:
    - (1) **이슈 발생**: 생성된 이슈는 자동으로 `Projects`의 `Todo`로 연결됩니다.
    - (2) **브랜치 생성**: 이슈 번호를 기반으로 작업 브랜치를 생성합니다.
    - (3) **코드 작성**: 브랜치에서 작업 후 변경사항을 커밋합니다.
    - (4) **Pull Request**: `dev` 브랜치로 병합을 요청합니다.
    - (5) **리뷰 및 병합**: 최소 2명 이상의 리뷰 승인을 받아야 메인 레포지토리로 머지가 가능합니다.
<br>
 
### 2. Branch 이름
{이슈 번호}-{feature/fix}-{개발 기능}

- ex) `17-feature-login`
